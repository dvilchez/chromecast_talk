<script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>

window.__onGCastApiAvailable = function(loaded, errorInfo){
    if(loaded){
        var sessionRequest = new chrome.cast.SessionRequest(chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID);
        var apiConfig = new chrome.cast.ApiConfig(sessionRequest,
            sessionListener,
            receiverListener);
        chrome.cast.initialize(apiConfig, function(){ console.log('init success'); }, function(){ console.log('init error'); }) ;
    }else{
        console.log(errorInfo);
    }
};

if( e === chrome.cast.ReceiverAvailability.AVAILABLE) {
  }

chrome.cast.requestSession(function(e){this.setState({session: e});}.bind(this), function(){ console.log('cast error');});

var mediaInfo = new chrome.cast.media.MediaInfo(currentMediaURL);
var request = new chrome.cast.media.LoadRequest(mediaInfo);
session.loadMedia(request,
   onMediaDiscovered.bind(this, 'loadMedia'),
   onMediaError);

function onMediaDiscovered(how, media) {
   currentMedia = media;
}

 $.ajax({
        type: "HEAD",
        async: true,
        url: imageTemp[i],
        success: function(message,text,response){
            imageData.push([imageTemp[i], response.getResponseHeader('Content-Length')]);
        }
    });
